1)
When you  add spring-boot-starter-security dependency
By default It loads UserDetailsServiceAutoConfiguration class and shows default login page and logout page.
Using generated security password: faf1a7a7-32c2-41a6-b358-de4803350f8a and user name is user

2)
So in order customize user name and password value we need to add properties like below
spring.security.user.name=vamshi
spring.security.user.password=vam@123
3)
Even after providing valid credentials When we try to add student data database using controller we are going to get 401 Unauthorized. 
Because As the respoonse is json formatter data spring security is expecting csrf token
Q1) What is CSRF (Cross-Site Request Forgery)?
CSRF stands for Cross-Site Request Forgery.
It‚Äôs a type of attack where a malicious website tricks a 
logged-in user into making an unwanted request to another site where they are already authenticated.

Example of CSRF Attack
Suppose you are logged into your bank site:

If your session cookie is automatically sent by the browser,
then your bank would receive a valid request and process the transfer ‚Äî
even though you never clicked anything intentionally! 

This is why Spring Security enforces CSRF protection for state-changing operations (like POST, PUT, DELETE).

Q2Ô∏è) What is CSRF Token?

A CSRF token is a unique, secret, unpredictable value generated by the server and sent to the client (usually as a hidden field or header).
When the client makes a POST/PUT/DELETE request, it must send the same token back.
Spring Security checks:
If the token is missing or invalid, ‚Üí request is rejected (403 Forbidden).
This ensures that only requests from your own site/UI are accepted ‚Äî not from other malicious sites.

Q3Ô∏è)Why You‚Äôre Getting 401 / 403

You are testing your REST API using Postman, React, or any JSON client, right?

By default, Spring Security expects a CSRF token for any POST/PUT/DELETE request ‚Äî
but JSON-based clients don‚Äôt send it automatically.
So Spring Security says:

Invalid CSRF token found for http://localhost:8080/students
and rejects the request with 403 (Forbidden) or 401 (Unauthorized).

Q4Ô∏è)How to Fix It (for REST APIs)

If your app is a REST API (JSON-based) ‚Äî you can safely disable CSRF since REST APIs are typically stateless
(they use JWT or Basic Auth instead of cookies).

Add this in your SecurityConfig:

@Configuration
@EnableWebSecurity
public class SecurityConfig {

    @Bean
    public SecurityFilterChain securityFilterChain(HttpSecurity http) throws Exception {
        http
            .csrf(csrf -> csrf.disable())  // üö´ Disable CSRF for REST APIs
            .authorizeHttpRequests(auth -> auth
                .requestMatchers("/greet").permitAll()
                .anyRequest().authenticated()
            )
            .formLogin(withDefaults())
            .httpBasic(withDefaults());
        return http.build();
    }
}
Q5Ô∏è)When to Keep CSRF Enabled

You should keep CSRF enabled if:
You‚Äôre building a traditional web app (Thymeleaf, JSP, etc.).

You use session-based login and forms.
In that case, you must include the CSRF token in your HTML form like this:

<form action="/students" method="post">
  <input type="hidden" name="_csrf" value="${_csrf.token}">
  <!-- your form fields -->
</form>

Spring automatically injects _csrf attributes into the model.

üß† Summary
Concept	Meaning
CSRF	Cross-Site Request Forgery ‚Äî attack where a malicious site sends unwanted requests
CSRF Token	Random value to ensure request came from your app
When Error Happens	POST/PUT/DELETE without valid token
Fix for REST APIs	Disable CSRF using .csrf(csrf -> csrf.disable())
Fix for Web Forms	Include hidden CSRF token field

Would you like me to show the complete working example of a REST controller (/students) 
secured by Spring Security with CSRF disabled (so Postman can POST successfully)?